appId: com.company.employee-monitor
productName: Employee Monitor Enhanced
copyright: Copyright © 2025 Employee Monitor Team

directories:
  output: release

files:
  - dist/**/*
  - electron/**/*
  - assets/**/*
  - platforms/**/*
  - common/**/*
  - main/**/*
  - native-event-monitor-win/**/*
  - WINDOWS_QUICK_START.md
  - INTEGRATED_SOLUTION_GUIDE.md
  - quick-windows-setup.cmd
  - "!**/*.ts"
  - "!**/*.map"
  - "!**/node_modules/**/*"
  - "!electron/**/*.ts"
  - "!native-event-monitor-win/build/**/*"
  - "!native-event-monitor-win/node_modules/**/*"
  - "!native-event-monitor-win/src/**/*"
  - "!native-event-monitor/**/*"
  # 包含预编译模块
  - native-event-monitor-win/precompiled/**/*
  - native-event-monitor-win/verify-installation.js

extraMetadata:
  main: electron/main-minimal.js
  dependencies:
    axios: "^1.4.0"
    chalk: "^4.1.2"
    commander: "^9.0.0"
    eventemitter3: "^4.0.7"
    socket.io-client: "^4.8.1"
    systeminformation: "^5.17.12"
    uuid: "^9.0.0"
    ws: "^8.13.0"

win:
  target:
    - target: nsis
      arch: [x64]
  artifactName: "Employee Monitor Enhanced Setup ${version}.${ext}"

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Employee Monitor Enhanced
  displayLanguageSelector: false
  installerSidebar: null
  uninstallerSidebar: null

# 禁用所有原生模块重建
buildDependenciesFromSource: false
nodeGypRebuild: false
npmRebuild: false
nativeRebuilder: null

# 电子版本和缓存设置
electronVersion: 25.9.8
electronDist: null
electronDownload:
  cache: ~/.cache/electron